;/*FB_PKG_DELIM*/

__d("CometDeferredPopoverTrigger.react",["BasePopoverTrigger.react","CometPopoverLoadingState.react","deferredLoadComponent","react","tracePolicyFromResource","useCometPopoverInteractionTracing"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.doNotCloseOnOutsideClick,d=a.fallback,e=a.popoverProps,f=a.popoverResource,g=a.preloadTrigger,i=a.tracePolicy;a=babelHelpers.objectWithoutPropertiesLoose(a,["doNotCloseOnOutsideClick","fallback","popoverProps","popoverResource","preloadTrigger","tracePolicy"]);var j=c("deferredLoadComponent")(f);i=c("useCometPopoverInteractionTracing")((i=i)!=null?i:c("tracePolicyFromResource")("comet.popover",f),"deferred",g);return h.jsx(c("BasePopoverTrigger.react"),babelHelpers["extends"]({doNotCloseOnOutsideClick:b,fallback:(b=d)!=null?b:h.jsx(c("CometPopoverLoadingState.react"),{withArrow:!0}),interactionTracker:i,popover:j,popoverPreloadResource:f,popoverProps:babelHelpers["extends"]({},e,{loadImmediately:!0}),preloadTrigger:g},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMessageButton.react",["IGDSIconButton.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={button:{opacity:"x15vok9n",":active_opacity":"x4gyw5p",":hover_opacity":"x1o7uuvo",$$css:!0}};function a(a){var b=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["xstyle"]);return h.jsx(c("IGDSIconButton.react"),babelHelpers["extends"]({},a,{xstyle:[i.button,b]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDSMoreHorizontalOutlineIcon",["IGDSMoreHorizontalPanoOutlineIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("IGDSMoreHorizontalPanoOutlineIcon"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("IGDMessageMoreMenuButton.react",["fbt","CometDeferredPopoverTrigger.react","IGDMessageButton.react","IGDSMoreHorizontalOutlineIcon","LSMessagingThreadTypeUtil","react","requireDeferred"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("requireDeferred")("IGDMessageMoreMenuPopover.react").__setRef("IGDMessageMoreMenuButton.react");function a(a){var b=a.isCopyable,e=a.isForwardable,f=a.isMessageRequest,g=a.isReportable,k=a.isUnsendable,l=a.message,m=a.outgoing,n=a.setMoreMenuOpen,o=a.setReportDialogOpen,p=a.setUnsendDialogOpen;a=a.thread;var q=h._("__JHASH__nNxAei6AI9v__JHASH__");return i.jsx(c("CometDeferredPopoverTrigger.react"),{align:m?"end":"start",onVisibilityChange:n,popoverProps:{isCopyable:b,isForwardable:e,isGroup:d("LSMessagingThreadTypeUtil").isGroup(a.threadType),isMessageRequest:f,isReportable:g,isSecure:d("LSMessagingThreadTypeUtil").isSecure(a.threadType),isUnsendable:k,message:l,setReportDialogOpen:o,setUnsendDialogOpen:p,threadSubType:a.threadSubtype},popoverResource:j,popoverType:"menu",position:"above",children:function(a,b){return i.jsx(c("IGDMessageButton.react"),{innerRef:a,label:q,onClick:b,children:i.jsx(c("IGDSMoreHorizontalOutlineIcon"),{alt:q,color:"ig-primary-text","data-testid":void 0,size:16})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageReactionHooks",["EmojiRenderer","I64","MWPActor.react","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.map(function(a,b){b=d("EmojiRenderer").parse(a).map(function(a){return a.emoji});return b.length!==1?"":b[0].join("")}).filter(function(a){return a!==""})}a={useSelectedReaction:function(a){var b=c("useReStore")(),e=d("MWPActor.react").useActor(),g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("reactions")).getKeyRange(a.threadKey,a.messageId,e)},[e,b,a.messageId,a.threadKey],f.id+":34");if(g!=null)return g.reaction},useSelectedReactionsV2:function(a){var b=c("useReStore")(),e=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("reactions_v2")).getKeyRange(a.threadKey,a.messageId).filter(function(a){return a.viewerIsReactor&&d("I64").gt(a.count,d("I64").zero)}).map(function(a){a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(b.table("reaction_v2_types")).getKeyRange(a.reactionFbid),f.id+":59");return[a==null?void 0:a.reactionLiteral,a==null?void 0:a.reactionLiteralVariant16].filter(Boolean)})},[b,a.threadKey,a.messageId],f.id+":50").flat();e=h(e);return e},useSelectedReactionV2:function(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("reactions_v2")).getKeyRange(a.threadKey,a.messageId).filter(function(a){return a.viewerIsReactor})},[b,a.messageId,a.threadKey],f.id+":78");return d("ReQLSuspense").useFirst(function(){return e?d("ReQL").fromTableAscending(b.table("reaction_v2_types")).getKeyRange(e.reactionFbid).map(function(a){return a.reactionLiteral}):d("ReQL").empty()},[b,e],f.id+":86")}};g.MWV2MessageReactionHooks=a}),98);
__d("UnicodeUtils.bs",["UnicodeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("UnicodeUtils").getCodePoints(a)}g.getCodePoints=a}),98);
__d("IGDMessageReactionButton.react",["fbt","CometDeferredPopoverTrigger.react","EmojiFormat.bs","IGDMessageButton.react","IGDSFace2OutlineIcon","MAWPSendOrRemoveReaction.react","MWV2MessageReactionHooks","UnicodeUtils.bs","emptyFunction","react","requireDeferred"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback,k=c("requireDeferred")("IGDMessageEmojiPicker.react").__setRef("IGDMessageReactionButton.react");function a(a){var b=a.isSecure,e=a.message,f=a.outgoing,g=a.setReactionsMenuOpen,l=d("MWV2MessageReactionHooks").MWV2MessageReactionHooks.useSelectedReaction(e),m=d("MAWPSendOrRemoveReaction.react").useSendOrRemoveReaction(e,b,"reaction_tray");a=j(function(a){var b=d("EmojiFormat.bs").codeArrayToUnicode(a);if(l!=null){var c=d("UnicodeUtils.bs").getCodePoints(l);b===l&&(b=void 0);c[0]===10084&&a[0]===10084&&(b=void 0)}m(e.messageId,b,"reaction")},[e.messageId,l,m]);var n=f?"end_":"start";b=c("emptyFunction");f={onClose:b,onSelect:a};var o=h._("__JHASH__BdkUyl8gsw5__JHASH__");return i.jsx(c("CometDeferredPopoverTrigger.react"),{align:function(){switch(n){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),onVisibilityChange:function(a){return g(function(){return a})},popoverProps:f,popoverResource:k,popoverType:"menu",position:"above",children:function(a,b){return i.jsx(c("IGDMessageButton.react"),{innerRef:a,label:o,onClick:b,children:i.jsx(c("IGDSFace2OutlineIcon"),{alt:o,color:"ig-primary-text","data-testid":void 0,size:16})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDSReplyPanoOutlineIcon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:h.jsx("path",{d:"M14 8.999H4.413l5.294-5.292a1 1 0 1 0-1.414-1.414l-7 6.998c-.014.014-.019.033-.032.048A.933.933 0 0 0 1 9.998V10c0 .027.013.05.015.076a.907.907 0 0 0 .282.634l6.996 6.998a1 1 0 0 0 1.414-1.414L4.415 11H14a7.008 7.008 0 0 1 7 7v3.006a1 1 0 0 0 2 0V18a9.01 9.01 0 0 0-9-9Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("IGDSReplyOutlineIcon",["IGDSReplyPanoOutlineIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("IGDSReplyPanoOutlineIcon"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("IGDMessageReplyButton.react",["fbt","IGDMessageButton.react","IGDSReplyOutlineIcon","MWMediaManager.bs","MWPReplyContext.bs","MWV2MessageRowActionsContext.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useContext,k={button:{opacity:"x15vok9n",":active_opacity":"x4gyw5p",":hover_opacity":"x1o7uuvo",$$css:!0}};function a(a){var b=a.message;a=a.thread;var e=j(d("MWPReplyContext.bs").context),f=e.setReply;e=d("MWMediaManager.bs").useMediaManager(a);var g=e.resetAttachments;a=function(a){f({messageId:b.messageId,offlineThreadingId:b.offlineThreadingId,sendStatusV2:b.sendStatusV2,timestampMs:b.timestampMs},b.threadKey),g()};e=d("MWV2MessageRowActionsContext.bs").useMessageRowActionsContext();e=e.replyToMessage;e.current=a;e=h._("__JHASH__L3od8hyUAW0__JHASH__");return i.jsx(c("IGDMessageButton.react"),{label:e,onClick:a,xstyle:k.button,children:i.jsx(c("IGDSReplyOutlineIcon"),{alt:e,color:"ig-primary-text","data-testid":void 0,size:16})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPBaseMessageListRowActions.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={incoming:{flexDirection:"x1q0g3np",$$css:!0},outgoing:{flexDirection:"x15zctf7",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",width:"x1ll7btr",$$css:!0}};function j(a){var b=a.children;a=a.outgoing;return h.jsx("div",{className:c("stylex")(i.root,a?i.outgoing:i.incoming),role:"none",children:b})}j.displayName=j.name+" [from "+f.id+"]";function a(a){a=a.children;return h.jsx("div",{children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.ariaHidden,d=a.children,e=a.hasReactions;a=a.outgoing;return h.jsx("div",{"aria-hidden":(b=b)!=null?b:!1,className:c("stylex")(k.root,e?k.moveUpToAccountForReactions:!1,a?k.outgoing:k.incoming),children:h.jsx(j,{outgoing:a,children:d})})}b.displayName=b.name+" [from "+f.id+"]";var k={incoming:{paddingStart:"x1t2a60a",$$css:!0},moveUpToAccountForReactions:{paddingBottom:"x1hhzuzn",$$css:!0},outgoing:{paddingEnd:"x1mpkggp",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"x2lah0s",justifyContent:"xl56j7k",position:"x1n2onr6",width:"x1ll7btr",zIndex:"x1n327nk",$$css:!0}};g.MWPBaseMessageListRowActionsList=j;g.MWPBaseMessageListRowActionsListItem=a;g.MWPBaseMessageListRowActionsContainer=b}),98);
__d("LSMessageThreadUnsendabilityStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({CAN_UNSEND:0,DENY_FOR_SPECIFIC_IDS:1,DENY_IF_THREAD_CONTAINS_PAU:2,DENY_IF_THREAD_CONTAINS_WORK_USER:3,DENY_IF_PAGE_THREAD:4,DENY_IF_MARKETPLACE_THREAD:5,DENY_IF_CANNOT_LOAD_THREAD:6,DENY_IF_THREAD_CONTAINS_WORK_USER_FAILING_KILLSWITCH:7,DENY_IF_CANONICAL_THREAD_CONTAINS_BLOCKED_USERS:8,DENY_IF_CANNOT_REPLY_TO_VIEWER_THREAD:9,DENY_IF_UNCONNECTED_THREAD:10});f["default"]=a}),66);
__d("useMWPCanRemoveMessageGlobally",["I64","LSIntEnum","LSMessageThreadUnsendabilityStatus","ThreadStatus"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=a.cannotUnsendReason!=null?d("I64").equal(a.cannotUnsendReason,d("LSIntEnum").ofNumber(c("LSMessageThreadUnsendabilityStatus").CAN_UNSEND)):!0;b=b.cannotUnsendReason!=null?d("I64").equal(b.cannotUnsendReason,d("LSIntEnum").ofNumber(c("LSMessageThreadUnsendabilityStatus").CAN_UNSEND)):!0;a=a.threadStatus!=null&&d("I64").equal(a.threadStatus,d("LSIntEnum").ofNumber(c("ThreadStatus").PAUSED));return e&&b&&!a}g["default"]=a}),98);
__d("IGDMessageRowActions.react",["I64","IGDMessageMoreMenuButton.react","IGDMessageReactionButton.react","IGDMessageReplyButton.react","LSBitFlag","LSContactBitOffset","LSContactBlockedByViewerStatus","LSIntEnum","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWGating","MWLSFeatureLimitedStatus.bs","MWLSThread","MWPActor.react","MWPBaseMessageListRowActions.react","MWPMessageHasAttachment.bs","MessagingAttachmentType","ReQL","ReQLSuspense","react","useIsThreadBlocked","useMWPCanRemoveMessageGlobally","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useState,j=[d("LSIntEnum").ofNumber(1),d("LSIntEnum").ofNumber(16384),d("LSIntEnum").ofNumber(2),d("LSIntEnum").ofNumber(4)];function k(a){var b=a.message,e=a.outgoing,g=a.setMoreMenuOpen,i=a.setReactionsMenuOpen,k=a.setReportDialogOpen;a=a.setUnsendDialogOpen;var l=c("useReStore")(),m=d("MWPActor.react").useActor(),n=c("useIsThreadBlocked")(),o=d("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited(),p=d("MWLSThread").useThreadExn(b.threadKey),q=p.threadKey,r=p.threadType,s=b.displayedContentTypes,t=b.messageId,u=b.senderId,v=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(l.table("contacts")).getKeyRange(u)},[l,u],f.id+":95"),w=d("MWPMessageHasAttachment.bs").make(b),x=d("ReQLSuspense").useFirst(function(){return w?d("ReQL").fromTableAscending(l.table("attachments")).getKeyRange(q,t):d("ReQL").empty()},[l,q,t,w],f.id+":102");m=d("I64").equal(u,m);var y=d("LSMessagingThreadTypeUtil").isSecure(r),z=!m&&d("LSMessagingThreadTypeUtil").isOneToOne(r)&&v!=null?!d("I64").equal(v.blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)):!1;v=v!=null&&d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(66),v);var A=d("LSMessagingThreadTypeUtil").isIGDMessageRequest(p);m=!m&&j.findIndex(function(a){return d("I64").equal(s,a)})!==-1;var B=d("I64").equal(s,d("LSBitFlag").empty),C=c("useMWPCanRemoveMessageGlobally")(p,b);x=x!=null&&d("I64").equal(x.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").XMA))?x.isSharable:!0;var D=b.replySourceTypeV2!=null&&d("LSIntEnum").toNumber(b.replySourceTypeV2)===c("LSMessageReplySourceTypeV2").FORWARD,E=d("I64").equal(s,d("LSIntEnum").ofNumber(1))||d("I64").equal(s,d("LSIntEnum").ofNumber(1033));E=E||D&&!!b.text;D=!n&&!v&&!A&&!o&&!b.isUnsent&&!B&&(d("LSMessagingThreadTypeUtil").isSecure(r)?d("MAWGating").isForwardEnabled():!0)&&d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(103),p)&&x&&!z&&!d("I64").equal(b.displayedContentTypes,d("LSIntEnum").ofNumber(256));r=!n&&!v&&!A&&!o&&d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(42),p)&&!b.isUnsent&&!B;x=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(18),p);z=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(139),p);var F=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(169),p);n=!n&&!v&&!A&&!o&&!b.isUnsent&&!B&&(z?F:x);v=!B&&(D||C||E||m);o=n?h.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:h.jsx(c("IGDMessageReactionButton.react"),{isSecure:y,message:b,outgoing:e,setReactionsMenuOpen:i})}):null;z=r?h.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:h.jsx(c("IGDMessageReplyButton.react"),{message:b,thread:p})}):null;F=v?h.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:h.jsx(c("IGDMessageMoreMenuButton.react"),{isCopyable:E,isForwardable:D,isMessageRequest:A,isReportable:m,isUnsendable:C,message:b,outgoing:e,setMoreMenuOpen:g,setReportDialogOpen:k,setUnsendDialogOpen:a,thread:p})}):null;return h.jsxs(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsList,{outgoing:e,children:[o,z,F]})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.ariaHidden;b=b===void 0?!1:b;var c=a.focused,e=a.hasReactions,f=a.hovered,g=a.message,j=a.outgoing,l=a.setReportDialogOpen;a=a.setUnsendDialogOpen;var m=i(!1),n=m[0];m=m[1];var o=i(!1),p=o[0];o=o[1];f=f||c||p||n;return h.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsContainer,{ariaHidden:b,hasReactions:e,outgoing:j,children:f?h.jsx(k,{message:g,outgoing:j,setMoreMenuOpen:m,setReactionsMenuOpen:o,setReportDialogOpen:l,setUnsendDialogOpen:a}):null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);